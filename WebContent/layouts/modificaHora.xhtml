<!DOCTYPE html>
<html   xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:f="http://java.sun.com/jsf/core"        
        xmlns:p="http://primefaces.org/ui">        
<h:body style="text-align:center">
    	<h:outputText value="Procure evitar traslapes, a continuaciÃ³n se le mostrara un lista de las materias impartidas en el mismo semestre " />
		<br/>
		<B><h:outputText value="MATERIAS QUE SE IMPARTEN EN EL MISMO PERIODO "  /> </B><BR/><BR/>
<!-- ************************* MUESTRA EL HORARIO DE LOS GRUPOS EN EL MISMO SEMESTRE ************** (TOP) -->		
		<p:dataTable var="gpo" value="#{profesorBean.listGposInSemester}" style="font-size: 6pt;text-align:center;margin-bottom:0" scrollable="true" scrollHeight="100" >
            <p:columnGroup type="header" >
                <p:row>
                    <p:column rowspan="2" headerText="SEM"  />                    
                    <p:column rowspan="2" headerText="MATERIA" />
                    <p:column rowspan="2" headerText="HRS"  />
                    <p:column colspan="2" headerText="LUNES"  />
                    <p:column colspan="2" headerText="MARTES" />
                    <p:column colspan="2" headerText="MIERCOLES"  />
                    <p:column colspan="2" headerText="JUEVES"  />
                    <p:column colspan="2" headerText="VIERNES"  />
                    <p:column colspan="2" headerText="SABADO"  />
                </p:row>
                <p:row>
                    <p:column headerText="INI" />
                    <p:column headerText="FIN" />
                    <p:column headerText="INI" />
                    <p:column headerText="FIN" />
                    <p:column headerText="INI" />
                    <p:column headerText="FIN" />
                    <p:column headerText="INI" />
                    <p:column headerText="FIN" />                         
                    <p:column headerText="INI" />
                    <p:column headerText="FIN" />
                    <p:column headerText="INI" />
                    <p:column headerText="FIN" />
                </p:row>
            </p:columnGroup>
            <p:column >
                <h:outputText value="#{gpo.materia.semestre}" >
                </h:outputText>
            </p:column>
            <p:column >
                <h:outputText value="#{gpo.materia.nombreMateria}" >
                </h:outputText>
            </p:column>
            <p:column >
                <h:outputText value="#{gpo.materia.horas}" >
                </h:outputText>
            </p:column>
            <p:column >
                <h:outputText value="#{gpo.lunHoraIni != null ? profesorBean.format.format(gpo.lunHoraIni) : '-'}" >
                </h:outputText>
            </p:column>
            <p:column >
                <h:outputText value="#{gpo.lunHoraFin != null ? profesorBean.format.format(gpo.lunHoraFin): '-'}" >
                </h:outputText>
            </p:column>
            <p:column >
                <h:outputText value="#{gpo.marHoraIni != null ? profesorBean.format.format(gpo.marHoraIni): '-'}" >
                </h:outputText>
            </p:column>
            <p:column >
                <h:outputText value="#{gpo.marHoraFin != null ? profesorBean.format.format(gpo.marHoraFin): '-'}" >
                </h:outputText>
            </p:column>
            <p:column >
                <h:outputText value="#{gpo.mieHoraIni != null ? profesorBean.format.format(gpo.mieHoraIni) : '-'}" >
                </h:outputText>
            </p:column>
            <p:column >
                <h:outputText value="#{gpo.mieHoraFin != null ? profesorBean.format.format(gpo.mieHoraFin) : '-'}" >
                </h:outputText>
            </p:column>
            <p:column >
                <h:outputText value="#{gpo.jueHoraIni != null ? profesorBean.format.format(gpo.jueHoraIni) : '-'}" >
                </h:outputText>
            </p:column>
            <p:column >
                <h:outputText value="#{gpo.jueHoraFin != null ? profesorBean.format.format(gpo.jueHoraFin) : '-'}" >
                </h:outputText>
            </p:column>
            <p:column >
                <h:outputText value="#{gpo.vieHoraIni != null ? profesorBean.format.format(gpo.vieHoraIni) : '-'}" >
                </h:outputText>
            </p:column>
            <p:column >
                <h:outputText value="#{gpo.vieHoraFin != null ? profesorBean.format.format(gpo.vieHoraFin) : '-'}" >
                </h:outputText>
            </p:column>
            <p:column >
                <h:outputText value="#{gpo.sabHoraIni != null ? profesorBean.format.format(gpo.sabHoraIni) : '-'}" >
                </h:outputText>
            </p:column>
            <p:column >
                <h:outputText value="#{gpo.sabHoraFin != null ? profesorBean.format.format(gpo.sabHoraFin) : '-'}" >
                </h:outputText>
            </p:column>
		</p:dataTable>
<!-- ************************* MUESTRA EL HORARIO DE LOS GRUPOS EN EL MISMO SEMESTRE ************** (BOTTOM) -->				
		<br/><br/>
<!-- *************  MODIFICACION DEL GRUPO SELECCIONADO ****************** (TOP) -->
    	<B><h:outputText value=" GRUPO #{profesorBean.selectedGpo.grupoPK.nombre} " /> </B><BR/><BR/>
		<p:panelGrid id="grid" style="width: 100%;font-size:8pt;text-align:center" >
	        <f:facet name="header">
	            <p:row>
	                <p:column rowspan="2" >SEM </p:column>
	                <p:column rowspan="2" >MATERIA</p:column>
	                <p:column rowspan="2" >HRS</p:column>
	                <p:column colspan="2" >LUNES</p:column>
	                <p:column colspan="2" >MARTES</p:column>
	                <p:column colspan="2" >MIERCOLES</p:column>
	                <p:column colspan="2" >JUEVES</p:column>
	                <p:column colspan="2" >VIERNES</p:column>
	                <p:column colspan="2" >SABADO</p:column>
	            </p:row>
	            <p:row>
	                <p:column >INI</p:column>
	                <p:column>FIN</p:column>
	                <p:column >INI</p:column>
	                <p:column>FIN</p:column>
	                <p:column >INI</p:column>
	                <p:column>FIN</p:column>
	                <p:column >INI</p:column>
	                <p:column>FIN</p:column>
	                <p:column >INI</p:column>
	                <p:column>FIN</p:column>
	                <p:column >INI</p:column>
	                <p:column>FIN</p:column>                            
	            </p:row>
	        </f:facet>
	        <p:row >
	            <p:column >
	                <h:outputText value="#{profesorBean.selectedGpo.materia.semestre}" >
	                </h:outputText>
	            </p:column>
	            <p:column >
	                <h:outputText value="#{profesorBean.selectedGpo.materia.nombreMateria}" >
	                </h:outputText>
	            </p:column>
	            <p:column >
	                <h:outputText value="#{profesorBean.selectedGpo.materia.horas}" >
	                </h:outputText>
	            </p:column>
	            <p:column>
	                <p:calendar locale="es" size="2"  value="#{profesorBean.lunIn}" pattern="HH:mm" timeOnly="true" />
	            </p:column>
	            <p:column>
	                <p:calendar locale="es" size="2" value="#{profesorBean.lunFn}" pattern="HH:mm" timeOnly="true" >
	                    <p:ajax event="dateSelect" update="select1"/>
	                    <p:ajax event="blur"   update="select1"/>
	                </p:calendar>
	            </p:column>
	            <p:column>
	                <p:calendar locale="es" size="2" value="#{profesorBean.marIn}" pattern="HH:mm" timeOnly="true" />
	            </p:column>
	            <p:column>
	                <p:calendar  locale="es" size="2" value="#{profesorBean.marFn}" pattern="HH:mm" timeOnly="true" >
	                    <p:ajax event="dateSelect"   update="select2"/>
	                    <p:ajax event="blur"  update="select2"/>           
	                </p:calendar>
	            </p:column>
	          	<p:column>
	           		<p:calendar locale="es" size="2" value="#{profesorBean.mieIn}" pattern="HH:mm" timeOnly="true" />
	            </p:column>
	            <p:column>
	                <p:calendar locale="es" size="2" value="#{profesorBean.mieFn}" pattern="HH:mm" timeOnly="true" >
	                    <p:ajax event="dateSelect"   update="select3"/>
	                    <p:ajax event="blur"  update="select3"/>           
	                </p:calendar>
	            </p:column>
	            <p:column>
	           		<p:calendar locale="es" size="2" value="#{profesorBean.jueIn}" pattern="HH:mm" timeOnly="true" />
	            </p:column>
	            <p:column>
	                <p:calendar  locale="es" size="2" value="#{profesorBean.jueFn}"  pattern="HH:mm" timeOnly="true" >
	                    <p:ajax event="dateSelect"   update="select4"/>
	                    <p:ajax event="blur"  update="select4"/>
	                </p:calendar>
	            </p:column>
	            <p:column>
	                <p:calendar locale="es" size="2" value="#{profesorBean.vieIn}" pattern="HH:mm" timeOnly="true" />
	            </p:column>
	            <p:column>
	                <p:calendar locale="es" size="2" value="#{profesorBean.vieIn}" pattern="HH:mm" timeOnly="true" >
	                    <p:ajax event="dateSelect"   update="select5"/>
	                    <p:ajax event="blur"  update="select5"/>                                           
	                </p:calendar>
	            </p:column>
	            <p:column>
	                <p:calendar locale="es" size="2" value="#{profesorBean.sabIn}" pattern="HH:mm" timeOnly="true" />
	            </p:column>
	            <p:column>
	                <p:calendar locale="es" size="2" value="#{profesorBean.sabFn}" pattern="HH:mm" timeOnly="true" >
	                    <p:ajax event="dateSelect"   update="select6"/>
	                    <p:ajax event="blur"  update="select6"/>
	                </p:calendar>
	            </p:column>
	        </p:row>
	        <p:row>
	            <p:column colspan="3">
	                <h:outputLabel value="ELIGE TIPO DE AULA" />
	            </p:column>        
	            <p:column  colspan="2">
	                <h:panelGroup id="sel" layout="block">
	                <p:selectOneMenu id="select1" value="#{profesorBean.aulaLunes}" disabled="#{profesorBean.lunFn == null}" converter="aulaConverter">
	                    <f:selectItems value="#{profesorBean.listAula}" var="aul" itemLabel="#{aul.tipoAula}" itemValue="#{aul}" />
	                </p:selectOneMenu>
	                </h:panelGroup>
	            </p:column>
	            <p:column colspan="2">
	                <p:selectOneMenu id="select2"  value="#{profesorBean.aulaMartes}" disabled="#{profesorBean.marFn == null}" converter="aulaConverter">
	                    <f:selectItems value="#{profesorBean.listAula}" var="aul" itemLabel="#{aul.tipoAula}" itemValue="#{aul}" />
	                </p:selectOneMenu>
	            </p:column>
	            <p:column colspan="2">
	                <p:selectOneMenu  id="select3"  value="#{profesorBean.aulaMiercoles}" disabled="#{profesorBean.mieFn == null}" converter="aulaConverter">
	                    <f:selectItems value="#{profesorBean.listAula}" var="aul" itemLabel="#{aul.tipoAula}" itemValue="#{aul}" />
	                </p:selectOneMenu>
	            </p:column>
	            <p:column colspan="2">
	                <p:selectOneMenu id="select4"  value="#{profesorBean.aulaJueves}" disabled="#{profesorBean.jueFn == null}" converter="aulaConverter">
	                    <f:selectItems value="#{profesorBean.listAula}" var="aul" itemLabel="#{aul.tipoAula}" itemValue="#{aul}" />
	                </p:selectOneMenu>
	            </p:column>
	            <p:column colspan="2">
	                <p:selectOneMenu  id="select5"  value="#{profesorBean.aulaViernes}" disabled="#{profesorBean.vieFn == null}" converter="aulaConverter">
	                    <f:selectItems value="#{profesorBean.listAula}" var="aul" itemLabel="#{aul.tipoAula}" itemValue="#{aul}" />	                    
	                </p:selectOneMenu>
	            </p:column>
	            <p:column colspan="2" >
	                 <p:selectOneMenu id="select6"  value="#{profesorBean.aulaSabado}" disabled="#{profesorBean.sabFn == null}" converter="aulaConverter">
	                    <f:selectItems value="#{profesorBean.listAula}" var="aul" itemLabel="#{aul.tipoAula}" itemValue="#{aul}" />
	                </p:selectOneMenu>
	            </p:column>
	        </p:row>
		</p:panelGrid>	   
    	<p:messages id="msgs" />
        <br/>
      	<p:commandButton  icon="ui-icon-disk" value="Confirmar" action="#{profesorBean.confirmarModificacion()}"  update="trDlg,msgs" process="@form" />		
      	<p:commandButton  icon="ui-icon-disk" value="Cancelar" onclick="PF('dlgModHora').hide()"  />		

		<br/><br/><br/>
<!-- *************  MODIFICACION DEL GRUPO SELECCIONADO ****************** (BOTTOM) -->			
</h:body>            
</html>