<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
<h:body>
	<ui:composition template="/layouts/mainTemplate.xhtml">
        <ui:define name="title">Coordinador Pagina Princicpal</ui:define>
	<ui:define name="content">	
		<h:form id="forma">                                   		
                    <p:layout style="height: 500px; width: 100%" >
                        <p:layoutUnit position="west" resizable="false" size="250">
                            <p:panelMenu>
                                <p:submenu label="Registrar">
                                    <p:menuitem value="Profesor" action="altaProfesor?faces-redirect=true"/>
                                    <p:menuitem value="Materias" action="altaMateria?faces-redirect=true"/>
                                    <p:menuitem value="Grupos" action="altaGrupo?faces-redirect=true" />
                                    <p:menuitem value="Laboratorios" action="altaLaboratorios?faces-redirect=true"/>
                                </p:submenu>
                                <p:submenu label="Modificar / Eliminar">
                                    <p:menuitem value="Profesor" action="profesorUpDel?faces-redirect=true" />
                                    <p:menuitem value="Materias" action="materiaUpDel?faces-redirect=true"/>
                                    <p:menuitem value="Grupos" action="grupoUpDel?faces-redirect=true"/>
                                    <p:menuitem value="Laboratorios" />
                                </p:submenu>
                                 <p:submenu label="Reportes">
                                     <p:menuitem value="Generar plantilla" action="planillaFI-ICO?faces-redirect=true" />
                                </p:submenu>
                            </p:panelMenu>
                        </p:layoutUnit>
                        <p:layoutUnit position="center" >
                        	<h:panelGroup layout="block" style="color:gray;text-align:center">
                        		<h2>BIENVENIDO AL SISTEMA CORDINADOR(A) </h2> <p:outputLabel value="#{coord.coordinador.nombreCoord.concat(' ').concat(coord.coordinador.apePatCoord).concat(' ').concat(coord.coordinador.apeMatCoord)}" />
                       		</h:panelGroup>
                            <p:dataTable id="notifsCoordTable" var="gpoNot" value="#{coord.listGposAValidar}" styleClass="tablaProfe" selection="#{coord.selecteGpo}" rowKey="#{gpoNot.idGrupo}" rendered="#{coord.listGposAValidar.size() > 0}">
                                <p:column headerText="Notificaciones">
                                    <p:outputLabel value="El grupo  #{gpoNot.nombre} del profesor #{gpoNot.rfcProfesor.nombreProfe.concat(' ').concat(gpoNot.rfcProfesor.apePatProfe)} necesita ser validado" rendered="#{gpoNot.validado == 0}"/>
                                    <p:outputLabel value="El grupo  #{gpoNot.nombre} del profesor #{gpoNot.rfcProfesor.nombreProfe.concat(' ').concat(gpoNot.rfcProfesor.apePatProfe)} fue validado con exito" rendered="#{gpoNot.validado != 0}"/>
                                </p:column>
                                <p:column style="width: 90px;text-align: center" disabledSelection="#{gpoNot.validado != 0}">
                                    <p:commandButton value="Validar" action="#{coord.validarGrupo()}" icon="ui-icon-circle-check" title="Abrir" disabled="#{gpoNot.validado != 0}" update=":forma:panelValida">
                                        <f:setPropertyActionListener value="#{gpoNot}" target="#{coord.selecteGpo}" />
                                    </p:commandButton>
                                </p:column>
                            </p:dataTable>
                            <br/><br/>
                            <STRONG><h:outputText value="NO EXITEN NOTIFICACIONES" rendered="#{coord.listGposAValidar.size() == 0}"/></STRONG>
                  		</p:layoutUnit>
                    </p:layout>
					<p:dialog id="validaDlg" widgetVar="dlgValida" closeOnEscape="true" modal="true" width="90%" resizable="false" draggable="false">      	                            
						<p:outputPanel id="panelValida">
					        <p:panelGrid id="gridValida" styleClass="fondo-blanco" >
					            <f:facet name="header">
					                <p:row>
					                    <p:column width="33%">Grupo</p:column>
					                    <p:column width="33%">Clave</p:column>
					                    <p:column width="34%">Materia</p:column>
					                </p:row>    
					            </f:facet>
					            <p:column><p:outputLabel value="#{coord.selecteGpo.nombre}" /></p:column>
					            <p:column><p:outputLabel value="#{coord.selecteGpo.claveMateria.claveMateria}" /></p:column>
					            <p:column><p:outputLabel value="#{coord.selecteGpo.claveMateria.nombreMateria}" /></p:column>    
					        </p:panelGrid> 								
						</p:outputPanel>
	                    <BR/>
	                    <p:panelGrid style="width: 80%" styleClass="fondo-blanco">
	                     <f:facet name="header">
	                        <p:row>
	                            <p:column colspan="12">HORARIO PROPUESTO</p:column>
	                        </p:row>
	                        <p:row>
	                           <p:column colspan="2" >LUNES</p:column>
	                           <p:column colspan="2" >MARTES</p:column>
	                           <p:column colspan="2" >MIERCOLES</p:column>
	                           <p:column colspan="2" >JUEVES</p:column>
	                           <p:column colspan="2" >VIERNES</p:column>
	                           <p:column colspan="2" >SABADO</p:column>
	                       </p:row>
	                       <p:row>
	                           <p:column >INI</p:column>
	                           <p:column >FIN</p:column>
	                           <p:column >INI</p:column>
	                           <p:column >FIN</p:column>
	                           <p:column >INI</p:column>
	                           <p:column >FIN</p:column>
	                           <p:column >INI</p:column>
	                           <p:column >FIN</p:column>
	                           <p:column >INI</p:column>
	                           <p:column >FIN</p:column>
	                           <p:column >INI</p:column>
	                           <p:column >FIN</p:column>
	                       </p:row>
	                    </f:facet>   
	                        <p:column >
	                            <h:outputText  value="#{coord.selecteGpo.horario.lunHoraIni != null ? coord.fmt.format(coord.selecteGpo.horario.lunHoraIni) : '-'}"/>
	                        </p:column>
	                        <p:column >
	                            <h:outputText  value="#{coord.selecteGpo.horario.lunHoraFin != null ? coord.fmt.format(coord.selecteGpo.horario.lunHoraFin) : '-'}"/>
	                        </p:column>
	                        <p:column >
	                            <h:outputText  value="#{coord.selecteGpo.horario.marHoraIni != null ? coord.fmt.format(coord.selecteGpo.horario.marHoraIni) : '-'}"/>
	                        </p:column>                                                                   
	                        <p:column >
	                            <h:outputText  value="#{coord.selecteGpo.horario.marHoraFin != null ? coord.fmt.format(coord.selecteGpo.horario.marHoraFin) : '-'}"/>
	                        </p:column>
	                        <p:column >
	                            <h:outputText  value="#{coord.selecteGpo.horario.mieHoraIni != null ? coord.fmt.format(coord.selecteGpo.horario.mieHoraIni) : '-'}"/>
	                        </p:column>
	                        <p:column >
	                            <h:outputText  value="#{coord.selecteGpo.horario.mieHoraFin != null ? coord.fmt.format(coord.selecteGpo.horario.mieHoraFin) : '-'}"/>
	                        </p:column>                                
	                        <p:column >
	                            <h:outputText  value="#{coord.selecteGpo.horario.jueHoraIni != null ? coord.fmt.format(coord.selecteGpo.horario.jueHoraIni) : '-'}"/>
	                        </p:column>
	                        <p:column >
	                            <h:outputText  value="#{coord.selecteGpo.horario.jueHoraFin != null ? coord.fmt.format(coord.selecteGpo.horario.jueHoraFin) : '-'}"/>
	                        </p:column>
	                        <p:column >
	                            <h:outputText  value="#{coord.selecteGpo.horario.vieHoraIni != null ? coord.fmt.format(coord.selecteGpo.horario.vieHoraIni) : '-'}"/>
	                        </p:column>                                                                   
	                        <p:column >
	                            <h:outputText  value="#{coord.selecteGpo.horario.vieHoraFin != null ? coord.fmt.format(coord.selecteGpo.horario.vieHoraFin) : '-'}"/>
	                        </p:column>
	                        <p:column >
	                            <h:outputText  value="#{coord.selecteGpo.horario.sabHoraIni != null ? coord.fmt.format(coord.selecteGpo.horario.sabHoraIni) : '-'}"/>
	                        </p:column>
	                        <p:column >
	                            <h:outputText  value="#{coord.selecteGpo.horario.sabHoraFin != null ? coord.fmt.format(coord.selecteGpo.horario.sabHoraFin) : '-'}"/>
	                        </p:column>  
	                        <p:row>
	                            <p:column colspan="12">
	                            <strong><h:outputText value="#{coord.selecteGpo.descripcion}"/></strong>
	                        </p:column>
	                        </p:row>
	                    </p:panelGrid>    
                    <br/>					
					</p:dialog>         
                </h:form>
	</ui:define>
	</ui:composition>
</h:body>
</html>